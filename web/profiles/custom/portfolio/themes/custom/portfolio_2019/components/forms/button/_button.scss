// Unlike most other components, the CSS for this component is included with the
// base.css styles as it is needed for the `button` element.

// Button
//
// In addition to the default styling of `<button>` and
// `<input type="submit|image|reset|button">` elements, the `.button` class and
// its variants can apply buttons styles to various elements (like an `<a>`
// link).
//
// :hover  - Hover styling.
// :active - Depressed button styling.
//
// Markup: button.twig
//
// Style guide: forms.button

// 1. Prevent a WebKit bug where (2) destroys native `audio` and `video`
//    controls in Android 4.
// 2. Correct the inability to style clickable types in iOS and Safari.
.button,
%button,
button,
  // 1
html [type='button'],
[type='reset'],
[type='submit'] {
  -moz-appearance: button;
  -webkit-appearance: button; // 2
}

/**
 * Base button type.
 */
%custom-btn-type-base {
  @include custom-transition((color, background-color, border-color));
  @include typeset(custom-base-input);
  $ico-size: 12px;
  display: inline-block;
  position: relative;
  border-radius: $custom-select-radius;

  // Address Firefox 4+ setting `line-height` on `input` using `!important` in
  // the UA stylesheet. And prevent its "line-height: normal" rule below from
  // breaking the "appearance: button" styling on the input elements.
  line-height: inherit;
  // Improve usability and consistency of cursor style between image-type `input` and others.
  cursor: pointer;

  padding: $custom-main-input-padding;
  text-decoration: none;
  border: $custom-main-input-border solid color(border);

  // Remove the inner border and padding in Firefox.
  &::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  // Restore the focus styles unset by the previous rule.
  &:-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  span {
    display: inline-block;
    vertical-align: baseline;

    &.text {
      @include font-size(s);
      line-height: custom-rem-value($select-base-lineh);
      vertical-align: middle;

      & + span[class^='icon-'],
      span[class*=' icon-'] {
        @include margin-left(10px);
        vertical-align: middle;
      }
    }

    &[class^='icon-'],
    &[class*=' icon-'] {
      @include font-size($ico-size);
      width: auto;
      padding: 0;

      &::before,
      &::after {
        width: auto;
        vertical-align: baseline;
      }
    }
  }
}

/**
 * Main & second common custom input style.
 */
.btn-main,
%btn-main,
.btn-second,
%btn-second {
  @extend %custom-btn-type-base;
  $type2-ico-size: 16px;
  text-align: center;

  span {
    &[class^='icon-'],
    &[class*=' icon-'] {
      @include font-size($type2-ico-size);
    }
  }
}

/**
 * Main custom input style including colors variant.
 */
.btn-main,
%btn-main {

  // White variant.
  &.btn-white {
    border-color: color(btn-main-white-bdr);
    color: color(btn-main-white);
    background: color(btn-main-white-bg);

    span {
      &[class^='icon-'],
      &[class*=' icon-'] {
        color: color(btn-main-white);
      }
    }

    &:hover,
    &:focus,
    &:active {
      border-color: color(btn-main-white-bdr-hv);
      color: color(btn-main-white-hv);
      background: color(btn-main-white-bg-hv);

      span {
        &[class^='icon-'],
        &[class*=' icon-'] {
          color: color(btn-main-white-hv);
        }
      }
    }
  }
}

/**
 * Second custom input style including colors variant.
 */
.btn-second,
%btn-second {

  // White variant.
  &.btn-white {
    border-color: color(btn-second-white-bdr);
    color: color(btn-second-white);
    background: color(btn-second-white-bg);

    span {
      &[class^='icon-'],
      &[class*=' icon-'] {
        color: color(btn-second-white);
      }
    }

    &:hover,
    &:focus,
    &:active {
      border-color: color(btn-second-white-bdr-hv);
      color: color(btn-second-white-hv);
      background: color(btn-second-white-bg-hv);

      span {
        &[class^='icon-'],
        &[class*=' icon-'] {
          color: color(btn-second-white-hv);
        }
      }
    }
  }
}

/**
 * Customize submit buttons.
 */
[type='submit']#edit-draft {
  @extend %btn-second;
}

/**
 * Apply button.
 */
// @todo.
.custom-apply-btn {
  @extend %btn-main;
  display: block;
}

/**
 * Main button.
 */
// @todo.
.button,
button,
[type='button'],
[type='reset'],
[type='submit'] {
  //@extend %button--disabled;
  @extend %btn-main;
}

// The disabled variation should always go last, so that it overrides any
// other variations.
/**
 * Disabled button.
 */
// @todo.
%button--disabled[disabled] {
  // Re-set default cursor for disabled elements.
  cursor: default;
  color: color(button-disabled);
  background-color: color(button-disabled-bg);

  &:hover,
  &:focus,
  &:active {
    // Override any link underlines and color changes.
    color: color(button-disabled);
    background-color: color(button-disabled-bg);
  }
}

/**
 * Square button.
 */
// @todo.
.custom-button-square,
%custom-button--square {
  border-radius: 0;
}
